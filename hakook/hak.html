<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kahoot Викторина</title>
<style>
  * { 
    margin: 0; 
    padding: 0; 
    box-sizing: border-box; 
  }
  
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), 
                url('https://www.issykkul.biz/portals/0/issyyk-kul6-gornaja-jemchujina-kirgizii-3.jpg');
    background-size: cover;
    background-position: center;
    background-attachment: fixed;
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 10px;
    line-height: 1.4;
  }

  #quiz-container {
    background: rgba(255, 255, 255, 0.98);
    border-radius: 15px;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
    width: 100%;
    max-width: 100%;
    height: 95vh;
    max-height: 95vh;
    overflow: hidden;
    position: relative;
    display: flex;
    flex-direction: column;
  }

  #quiz-container::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 6px;
    background: linear-gradient(90deg, #FF6B6B, #4ECDC4, #45B7D1, #96CEB4, #FFEAA7);
    z-index: 1;
  }

  #quiz-header {
    padding: 15px 15px 10px;
    background: linear-gradient(135deg, #3498db, #2c3e50);
    color: white;
    text-align: center;
    position: relative;
    flex-shrink: 0;
  }

  h1 { 
    font-size: 22px; 
    margin-bottom: 5px; 
    text-shadow: 1px 1px 3px rgba(0,0,0,0.3);
  }

  #player-display {
    font-size: 14px;
    margin-bottom: 8px;
    opacity: 0.9;
  }

  .score-progress {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 8px;
    font-size: 12px;
    font-weight: 600;
  }

  .progress-container {
    width: 65%;
    height: 8px;
    background-color: rgba(255, 255, 255, 0.3);
    border-radius: 4px;
    overflow: hidden;
    position: relative;
  }

  .progress-bar {
    height: 100%;
    background: linear-gradient(90deg, #2ecc71, #1abc9c);
    width: 0%;
    transition: width 0.5s ease;
    border-radius: 4px;
  }

  #quiz-content { 
    padding: 15px; 
    flex: 1;
    display: flex;
    flex-direction: column;
    justify-content: center;
    overflow-y: auto;
  }

  .question {
    font-size: 18px;
    font-weight: 700;
    color: #2c3e50;
    margin-bottom: 20px;
    text-align: center;
    line-height: 1.3;
  }

  .options { 
    display: flex; 
    flex-direction: column;
    gap: 12px; 
    margin-bottom: 15px; 
  }

  .option-btn {
    padding: 16px 12px; 
    font-size: 16px; 
    border: none; 
    border-radius: 12px;
    cursor: pointer; 
    background: linear-gradient(135deg, #3498db, #2980b9);
    color: white; 
    font-weight: 600; 
    transition: all 0.3s ease; 
    text-align: left;
    position: relative; 
    overflow: hidden;
    box-shadow: 0 3px 6px rgba(0,0,0,0.1);
    min-height: 60px;
    display: flex;
    align-items: center;
    width: 100%;
  }

  .option-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transition: left 0.7s;
  }

  .option-btn:hover::before {
    left: 100%;
  }

  .option-btn:active {
    transform: scale(0.98);
  }

  .option-btn.correct { 
    background: linear-gradient(135deg, #2ecc71, #27ae60); 
    animation: pulse 0.5s;
  }

  .option-btn.incorrect { 
    background: linear-gradient(135deg, #e74c3c, #c0392b); 
  }

  @keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.03); }
    100% { transform: scale(1); }
  }

  #next-btn, .start-btn, .restart-btn {
    width: 100%; 
    padding: 16px; 
    font-size: 18px; 
    border: none; 
    border-radius: 12px;
    cursor: pointer; 
    font-weight: 700; 
    transition: all 0.3s ease;
    margin-top: 10px; 
    color: white;
    box-shadow: 0 4px 8px rgba(0,0,0,0.15);
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 55px;
    flex-shrink: 0;
  }

  #next-btn:active, .start-btn:active, .restart-btn:active {
    transform: scale(0.98);
  }

  #next-btn { 
    background: linear-gradient(135deg, #9b59b6, #8e44ad); 
    display: none; 
  }
  
  .start-btn { 
    background: linear-gradient(135deg, #27ae60, #2ecc71); 
  }
  
  .restart-btn { 
    background: linear-gradient(135deg, #e67e22, #d35400); 
  }

  .results { 
    text-align: center; 
    padding: 10px; 
    display: flex;
    flex-direction: column;
    justify-content: center;
    height: 100%;
  }
  
  .final-score { 
    font-size: 24px; 
    font-weight: 700; 
    margin-bottom: 12px; 
    color: #2c3e50;
  }
  
  .score-message { 
    font-size: 18px; 
    color: #555; 
    margin-bottom: 20px;
    line-height: 1.4;
  }

  /* Стартовый экран */
  #start-screen { 
    text-align: center; 
    padding: 10px; 
    display: flex;
    flex-direction: column;
    justify-content: center;
    height: 100%;
  }
  
  #start-screen h2 {
    font-size: 20px;
    margin-bottom: 15px;
    color: #2c3e50;
  }
  
  #player-name { 
    width: 100%; 
    padding: 16px; 
    margin: 15px 0; 
    border-radius: 10px; 
    border: 2px solid #ddd; 
    font-size: 16px; 
    text-align: center;
    transition: border-color 0.3s;
  }
  
  #player-name:focus {
    border-color: #3498db;
    outline: none;
  }

  /* QR-код и ссылка */
  .qr-container {
    margin: 15px 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    flex-shrink: 0;
  }
  
  .qr-image {
    width: 120px;
    height: 120px;
    background: white;
    padding: 8px;
    border-radius: 8px;
    box-shadow: 0 3px 6px rgba(0,0,0,0.1);
    margin-bottom: 8px;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  
  .qr-image img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    border-radius: 4px;
  }
  
  .qr-text {
    font-size: 12px;
    color: #555;
    text-align: center;
    max-width: 90%;
    line-height: 1.3;
    margin-bottom: 8px;
  }

  .url-container {
    margin-top: 10px;
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .url-text {
    font-size: 12px;
    color: #555;
    margin-bottom: 5px;
    text-align: center;
  }

  .url-link {
    background: #f8f9fa;
    border: 1px solid #ddd;
    border-radius: 8px;
    padding: 10px 12px;
    font-size: 12px;
    color: #3498db;
    text-decoration: none;
    word-break: break-all;
    text-align: center;
    width: 90%;
    max-width: 280px;
    transition: all 0.3s ease;
  }

  .url-link:hover {
    background: #e3f2fd;
    border-color: #3498db;
  }

  .url-link:active {
    transform: scale(0.98);
  }

  .copy-btn {
    background: linear-gradient(135deg, #3498db, #2980b9);
    color: white;
    border: none;
    border-radius: 6px;
    padding: 8px 15px;
    font-size: 12px;
    margin-top: 8px;
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .copy-btn:hover {
    background: linear-gradient(135deg, #2980b9, #2471a3);
  }

  .copy-btn:active {
    transform: scale(0.95);
  }

  .copy-message {
    font-size: 11px;
    color: #27ae60;
    margin-top: 5px;
    opacity: 0;
    transition: opacity 0.3s ease;
    height: 15px;
  }

  .copy-message.show {
    opacity: 1;
  }

  /* Анимация появления */
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
  
  .fade-in {
    animation: fadeIn 0.5s ease forwards;
  }

  /* Горизонтальная ориентация */
  @media (max-height: 500px) and (orientation: landscape) {
    #quiz-container {
      height: 98vh;
      max-height: 98vh;
    }
    
    #quiz-content {
      padding: 10px;
    }
    
    .question {
      font-size: 16px;
      margin-bottom: 10px;
    }
    
    .options {
      gap: 8px;
      margin-bottom: 10px;
    }
    
    .option-btn {
      padding: 12px 10px;
      font-size: 14px;
      min-height: 50px;
    }
    
    #next-btn, .start-btn, .restart-btn {
      padding: 12px;
      font-size: 16px;
      min-height: 45px;
    }
    
    .qr-container {
      margin: 10px 0;
    }
    
    .qr-image {
      width: 80px;
      height: 80px;
    }
    
    .url-link {
      padding: 8px 10px;
      font-size: 11px;
    }
  }

  /* Большие экраны */
  @media (min-width: 768px) and (min-height: 700px) {
    #quiz-container {
      max-width: 500px;
      height: auto;
      max-height: 90vh;
    }
    
    .options {
      grid-template-columns: 1fr 1fr;
      gap: 15px;
    }
  }

  /* Очень маленькие экраны */
  @media (max-width: 350px) {
    #quiz-header {
      padding: 12px 12px 8px;
    }
    
    h1 {
      font-size: 20px;
    }
    
    .question {
      font-size: 16px;
    }
    
    .option-btn {
      padding: 14px 10px;
      font-size: 14px;
      min-height: 55px;
    }
    
    .qr-image {
      width: 100px;
      height: 100px;
    }
    
    .url-link {
      font-size: 11px;
      padding: 8px 10px;
    }
  }
</style>
</head>
<body>

<div id="quiz-container">
  <div id="quiz-header">
    <h1>Kahoot Викторина</h1>
    <div id="player-display"></div>
    <div class="score-progress" id="progress-info" style="display: none;">
      <span id="score">Упай: 0</span>
      <span id="question-count">Суроо 1/10</span>
    </div>
    <div class="progress-container">
      <div class="progress-bar" id="progress-bar"></div>
    </div>
  </div>
  
  <div id="quiz-content">
    <!-- Стартовый экран -->
    <div id="start-screen" class="fade-in">
      <h2>Сураныч, атыңызды жазыныз!</h2>
      <input type="text" id="player-name" placeholder="Сиздин атыныз" maxlength="20">
      <button class="start-btn" id="start-btn">Оюнду баштоо</button>
      
      <!-- Контейнер для QR-кода и ссылки -->
      <div class="qr-container">
        <div class="qr-image">
          <!-- ЗДЕСЬ ВСТАВЬТЕ СВОЕ ИЗОБРАЖЕНИЕ QR-КОДА -->
          <img src="./викторина.png" alt="QR Code">
        </div>
        <p class="qr-text">Бул QR-кодду сканердөө менен башкалар да оюнга кошула алышат</p>
        
        <div class="url-container">
          <p class="url-text">Эгер камера иштебей калса, бул шилтемени басыңыз:</p>
          <a href="#" class="url-link" id="game-url">Жүктөлүүдө...</a>
          <button class="copy-btn" id="copy-btn">Шилтемени көчүрүү</button>
          <div class="copy-message" id="copy-message">Шилтеме көчүрүлдү!</div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
const quizData = [
  { question: "Кыргыз тили мамлекеттик тил катары качан кабыл алынган?", options: ["А) 1988-ж.", "Б) 1989-ж.", "В) 1991-ж.", "Г) 1993-ж."], answer: "Б) 1989-ж." },
  { question: "Кыргыз тили күнүнүн негизги максаты эмнеде?", options: ["А) Спортту өнүктүрүү", "Б) Кыргыз тилин сактоо жана даңазалоо", "В) Экономиканы чыңдоо", "Г) Табиятты коргоо"], answer: "Б) Кыргыз тилин сактоо жана даңазалоо" },
  { question: "Кыргыз Республикасынын биринчи Президенти ким болгон?", options: ["А) Курманбек Бакиев", "Б) Алмазбек Атамбаев", "В) Садыр Жапаров", "Г) Аскар Акаев"], answer: "Г) Аскар Акаев" },
  { question: "Кыргыз тилинде 'жакшы сөздүн жарымы – жарык' деген макал эмнени билдирет?", options: ["А) Жакшы сөздүн күчү чоң.", "Б) Сөздү көп айтса болот.", "В) Макалды унутуу оңой.", "Г) Сөздү тез айтууга болот."], answer: "А) Жакшы сөздүн күчү чоң." },
  { question: "Ч.Айтматовдун сөзү боюнча, адамдын эң күчтүү куралы эмнеде?", options: ["А) Билим", "Б) Махабат", "В) Семья", "Г) Работа"], answer: "Б) Махабат" },
  { question: "Программист негизинен кайсы тилдер менен иштейт?", options: ["А) Англис тили менен кыргыз тили", "Б) Программалоо тилдери (Python, Java, C++ ж.б.)", "В) Француз тили менен испан тили", "Г) Орус тили менен казак тили"], answer: "Б) Программалоо тилдери (Python, Java, C++ ж.б.)" },
  { question: "Программисттин негизги куралы кайсы?", options: ["А) Клавиатура жана компьютер", "Б) Балка менен мык", "В) Карандаш менен китеп", "Г) Камера менен микрофон"], answer: "А) Клавиатура жана компьютер" },
  { question: "Программисттер колдонмо жана сайттарды түзүүдө эмнени колдонушат?", options: ["А) Код жазуу", "Б) Сүрөт тартуу", "В) Ыр жазуу", "Г) Чатыр жабуу"], answer: "А) Код жазуу" },
  { question: "Веб-разработчик ким?", options: ["A) Веб-сайттарды түзгөн адис", "Б) Компьютер оюндарын иштеп чыгуучү", "В) Электр жабдууларын оңдоочу", "Г) Медицина илимдерин изилдеген адис"], answer: "A) Веб-сайттарды түзгөн адис" },
  { question: "Веб-разработчиктин негизги максаты эмнеде?", options: ["A) Веб-сайттарды иштеп чыгуу жана функцияларын камсыз кылуу", "Б) Компьютердик оюндарды жаратуу", "В) Кино тартуу", "Г) Автоунааларды оңдоо"], answer: "A) Веб-сайттарды иштеп чыгуу жана функцияларын камсыз кылуу" },
];

let currentQuestion = 0;
let score = 0;
let playerName = "";

// Элементы интерфейса
const questionEl = document.createElement("div");
questionEl.classList.add("question");
const optionsEl = document.createElement("div");
optionsEl.classList.add("options");
const nextBtn = document.createElement("button");
nextBtn.id = "next-btn";
nextBtn.textContent = "Кийинки суроо";

const scoreEl = document.getElementById("score");
const questionCountEl = document.getElementById("question-count");
const progressBarEl = document.getElementById("progress-bar");
const quizContentEl = document.getElementById("quiz-content");
const progressInfo = document.getElementById("progress-info");
const playerDisplay = document.getElementById("player-display");

// Функция для обновления URL ссылки
function updateGameUrl() {
  const currentUrl = window.location.href;
  const urlLink = document.getElementById('game-url');
  urlLink.textContent = currentUrl;
  urlLink.href = currentUrl;
}

// Функция для копирования ссылки в буфер обмена
function setupCopyButton() {
  const copyBtn = document.getElementById('copy-btn');
  const copyMessage = document.getElementById('copy-message');
  
  copyBtn.addEventListener('click', function() {
    const url = window.location.href;
    
    // Используем современный API для копирования
    navigator.clipboard.writeText(url).then(function() {
      // Показываем сообщение об успехе
      copyMessage.classList.add('show');
      setTimeout(function() {
        copyMessage.classList.remove('show');
      }, 2000);
    }).catch(function(err) {
      // Fallback для старых браузеров
      const textArea = document.createElement('textarea');
      textArea.value = url;
      document.body.appendChild(textArea);
      textArea.select();
      try {
        document.execCommand('copy');
        copyMessage.classList.add('show');
        setTimeout(function() {
          copyMessage.classList.remove('show');
        }, 2000);
      } catch (err) {
        alert('Көчүрүү иши ишке ашпады. Сураныч, кол менен көчүрүңүз: ' + url);
      }
      document.body.removeChild(textArea);
    });
  });
}

// Обработчик начала игры
document.getElementById("start-btn").addEventListener("click", startGame);
document.getElementById("player-name").addEventListener("keypress", function(e) {
  if (e.key === 'Enter') {
    startGame();
  }
});

// Инициализация при загрузке страницы
window.addEventListener('load', function() {
  document.getElementById("player-name").focus();
  updateGameUrl();
  setupCopyButton();
});

function startGame() {
  const input = document.getElementById("player-name");
  const name = input.value.trim();
  
  if (name === "") {
    alert("Сураныч, атыңызды жазыныз!");
    input.focus();
    return;
  }
  
  playerName = name;
  playerDisplay.textContent = `Оюнчу: ${playerName}`;
  startQuiz();
}

function startQuiz() {
  quizContentEl.innerHTML = "";
  quizContentEl.appendChild(questionEl);
  quizContentEl.appendChild(optionsEl);
  quizContentEl.appendChild(nextBtn);
  progressInfo.style.display = "flex";
  
  // Анимация появления
  questionEl.classList.add("fade-in");
  optionsEl.classList.add("fade-in");
  
  loadQuestion();
}

function loadQuestion() {
  nextBtn.style.display = "none";
  const q = quizData[currentQuestion];
  questionEl.textContent = q.question;
  optionsEl.innerHTML = "";
  
  // Обновляем информацию о прогрессе
  questionCountEl.textContent = `Суроо ${currentQuestion + 1}/${quizData.length}`;
  progressBarEl.style.width = `${(currentQuestion / quizData.length) * 100}%`;
  
  // Создаем кнопки с вариантами ответов
  q.options.forEach((option, index) => {
    const btn = document.createElement("button");
    btn.textContent = option;
    btn.classList.add("option-btn", "fade-in");
    btn.style.animationDelay = `${index * 0.1}s`;
    btn.addEventListener("click", () => selectAnswer(option));
    optionsEl.appendChild(btn);
  });
}

function selectAnswer(selectedOption) {
  const correctAnswer = quizData[currentQuestion].answer;
  const buttons = Array.from(optionsEl.children);
  
  // Отключаем все кнопки после выбора ответа
  buttons.forEach(btn => {
    btn.disabled = true;
    btn.style.pointerEvents = "none";
    
    // Подсвечиваем правильный и неправильные ответы
    if (btn.textContent === correctAnswer) {
      btn.classList.add("correct");
    } else if (btn.textContent === selectedOption) {
      btn.classList.add("incorrect");
    }
  });
  
  // Увеличиваем счет, если ответ правильный
  if (selectedOption === correctAnswer) {
    score++;
    scoreEl.textContent = `Упай: ${score}`;
  }
  
  // Показываем кнопку "Следующий вопрос"
  nextBtn.style.display = "block";
  nextBtn.classList.add("fade-in");
}

nextBtn.addEventListener("click", () => {
  currentQuestion++;
  if (currentQuestion < quizData.length) {
    loadQuestion();
  } else {
    showResults();
  }
});

function showResults() {
  progressBarEl.style.width = "100%";
  quizContentEl.innerHTML = `
    <div class="results fade-in">
      <div class="final-score">Рахмат, ${playerName}!</div>
      <div class="final-score">Сиздин жыйынтыгыныз: ${score}/${quizData.length}</div>
      <div class="score-message">${getResultMessage()}</div>
      <button class="restart-btn" id="restart-btn">Кайра баштоо</button>
    </div>
  `;
  document.getElementById("restart-btn").addEventListener("click", restartQuiz);
}

function getResultMessage() {
  const percentage = (score / quizData.length) * 100;
  if (percentage >= 90) return "Эң сонун натыйжа! Сиз чындагы экспертсиз!";
  if (percentage >= 70) return "Жакшы натыйжа! Сиз бул теманы жакшы билесиз!";
  if (percentage >= 50) return "Жаман эмес, бирок жакшыраак боло аласыз.";
  return "Кайра аракет кылыныз! Дагы бир жолу сынап көрүңүз!";
}

function restartQuiz() {
  currentQuestion = 0;
  score = 0;
  scoreEl.textContent = "Упай: 0";
  progressInfo.style.display = "none";
  playerDisplay.textContent = "";
  
  quizContentEl.innerHTML = `
    <div id="start-screen" class="fade-in">
      <h2>Сураныч, атыңызды жазыныз!</h2>
      <input type="text" id="player-name" placeholder="Сиздин атыныз" maxlength="20">
      <button class="start-btn" id="start-btn">Оюнду баштоо</button>
      
      <!-- Контейнер для QR-кода и ссылки -->
      <div class="qr-container">
        <div class="qr-image">
          <!-- ЗДЕСЬ ВСТАВЬТЕ СВОЕ ИЗОБРАЖЕНИЕ QR-КОДА -->
          <img src="викторина.png" alt="QR Code">
        </div>
        <p class="qr-text">Бул QR-кодду сканердөө менен башкалар да оюнга кошула алышат</p>
        
        <div class="url-container">
          <p class="url-text">Эгер камера иштебей калса, бул шилтемени басыңыз:</p>
          <a href="#" class="url-link" id="game-url">Жүктөлүүдө...</a>
          <button class="copy-btn" id="copy-btn">Шилтемени көчүрүү</button>
          <div class="copy-message" id="copy-message">Шилтеме көчүрүлдү!</div>
        </div>
      </div>
    </div>
  `;
  
  // Переинициализируем URL и кнопку копирования
  setTimeout(function() {
    updateGameUrl();
    setupCopyButton();
  }, 100);
  
  // Перепривязываем обработчики событий
  document.getElementById("start-btn").addEventListener("click", startGame);
  document.getElementById("player-name").addEventListener("keypress", function(e) {
    if (e.key === 'Enter') {
      startGame();
    }
  });
  
  // Фокус на поле ввода
  document.getElementById("player-name").focus();
}
</script>
</body>
</html>