<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–ö—ã—Ä–≥—ã–∑—Å—Ç–∞–Ω: –ü–æ–≥–æ–¥–∞ –∏ –î–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ üå§üì∏</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body, html {
      height: 100%;
      width: 100%;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      overflow: hidden;
      touch-action: manipulation;
      -webkit-tap-highlight-color: transparent;
    }
    
    .container {
      display: flex;
      height: 100%;
      flex-direction: column;
    }
    
    .sidebar {
      width: 100%;
      background: linear-gradient(to bottom, #1a3a4a, #2c3e50);
      color: white;
      padding: 15px;
      overflow-y: auto;
      box-shadow: 0 2px 10px rgba(0,0,0,0.2);
      z-index: 1000;
      transition: transform 0.3s ease;
      max-height: 45vh;
    }
    
    .sidebar.hidden {
      transform: translateY(calc(-100% + 60px));
    }
    
    .toggle-sidebar {
      position: absolute;
      bottom: -30px;
      left: 50%;
      transform: translateX(-50%);
      width: 60px;
      height: 30px;
      background: #2c3e50;
      border-radius: 0 0 10px 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      z-index: 1001;
      cursor: pointer;
    }
    
    .sidebar h1 {
      font-size: 18px;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 8px;
      color: #fff;
      padding-bottom: 12px;
      border-bottom: 1px solid rgba(255,255,255,0.2);
    }
    
    .sidebar h1 i {
      color: #4ecdc4;
    }
    
    .search-box {
      margin-bottom: 15px;
      position: relative;
    }
    
    .search-box input {
      width: 100%;
      padding: 12px 15px;
      border-radius: 25px;
      border: none;
      background: rgba(255, 255, 255, 0.1);
      color: white;
      padding-left: 40px;
      font-size: 16px; 
    }
    
    .search-box i {
      position: absolute;
      left: 15px;
      top: 50%;
      transform: translateY(-50%);
      color: #ccc;
    }
    
    .filter-buttons {
      display: flex;
      flex-wrap: nowrap;
      overflow-x: auto;
      gap: 6px;
      margin-bottom: 15px;
      padding-bottom: 5px;
      -webkit-overflow-scrolling: touch;
    }
    
    .filter-buttons::-webkit-scrollbar {
      display: none;
    }
    
    .filter-btn {
      background: rgba(255, 255, 255, 0.1);
      border: none;
      color: white;
      padding: 8px 12px;
      border-radius: 20px;
      font-size: 12px;
      cursor: pointer;
      transition: all 0.3s;
      white-space: nowrap;
      flex-shrink: 0;
    }
    
    .filter-btn:hover, .filter-btn.active {
      background: #4ecdc4;
    }
    
    .cities-list {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    
    .city-item {
      background: rgba(255, 255, 255, 0.05);
      padding: 12px;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.3s;
    }
    
    .city-item:hover {
      background: rgba(255, 255, 255, 0.1);
    }
    
    .city-item h3 {
      font-size: 15px;
      margin-bottom: 5px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .city-item p {
      font-size: 12px;
      color: #ccc;
    }
    
    #map {
      flex: 1;
      height: 100%;
      width: 100%;
    }
    
    .legend {
      position: absolute;
      bottom: 70px;
      right: 10px;
      background: white;
      padding: 8px;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0,0,0,0.2);
      z-index: 1000;
      font-size: 12px;
    }
    
    .legend h4 {
      margin-bottom: 6px;
      font-size: 12px;
    }
    
    .legend-item {
      display: flex;
      align-items: center;
      margin-bottom: 4px;
      font-size: 11px;
    }
    
    .legend-color {
      width: 16px;
      height: 16px;
      border-radius: 50%;
      margin-right: 6px;
    }
    
    .popup-content {
      text-align: center;
      max-width: 280px;
    }
    
    .popup-content h3 {
      margin: 8px 0;
      color: #2c3e50;
      font-size: 16px;
    }
    
    .popup-content img {
      width: 100%;
      border-radius: 8px;
      margin: 8px 0;
    }
    
    .weather-info {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      margin: 8px 0;
    }
    
    .temp {
      font-size: 20px;
      font-weight: bold;
      color: #e74c3c;
    }
    
    .weather-desc {
      font-size: 13px;
      color: #7f8c8d;
    }
    
    .details-btn {
      background: #4ecdc4;
      color: white;
      border: none;
      padding: 8px 15px;
      border-radius: 20px;
      cursor: pointer;
      margin-top: 8px;
      transition: all 0.3s;
      font-size: 14px;
    }
    
    .details-btn:hover {
      background: #2a8381;
    }
    

    .mobile-tabs {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: #2c3e50;
      display: flex;
      justify-content: space-around;
      z-index: 1002;
      padding: 10px 0;
      display: none;
    }
    
    .mobile-tab {
      color: white;
      text-align: center;
      font-size: 12px;
      flex: 1;
      padding: 8px 0;
    }
    
    .mobile-tab i {
      font-size: 20px;
      display: block;
      margin-bottom: 4px;
    }
    
    .mobile-tab.active {
      color: #4ecdc4;
    }
    
    /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
    @media (max-width: 768px) {
      .container {
        flex-direction: column;
      }
      
      .sidebar {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 50vh;
        z-index: 1000;
        max-height: none;
      }
      
      #map {
        height: 100vh;
        width: 100%;
      }
      
      .mobile-tabs {
        display: flex;
      }
      
      .legend {
        bottom: 60px;
      }
    }
    
    @media (max-width: 480px) {
      .sidebar {
        padding: 12px;
      }
      
      .sidebar h1 {
        font-size: 16px;
      }
      
      .search-box input {
        padding: 10px 12px;
        padding-left: 35px;
      }
      
      .city-item {
        padding: 10px;
      }
      
      .city-item h3 {
        font-size: 14px;
      }
      
      .city-item p {
        font-size: 11px;
      }
    }
    
  
    @media (min-height: 800px) {
      .sidebar {
        max-height: 40vh;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="sidebar">
      <h1><i class="fas fa-mountain"></i> –ö—ã—Ä–≥—ã–∑—Å—Ç–∞–Ω: –ü–æ–≥–æ–¥–∞ –∏ –î–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</h1>
      
      <div class="search-box">
        <i class="fas fa-search"></i>
        <input type="text" id="search-input" placeholder="–ü–æ–∏—Å–∫ –≥–æ—Ä–æ–¥–∞ –∏–ª–∏ –º–µ—Å—Ç–∞...">
      </div>
      
      <div class="filter-buttons">
        <button class="filter-btn active" data-filter="all">–í—Å–µ</button>
        <button class="filter-btn" data-filter="city">–ì–æ—Ä–æ–¥–∞</button>
        <button class="filter-btn" data-filter="nature">–ü—Ä–∏—Ä–æ–¥–∞</button>
        <button class="filter-btn" data-filter="lake">–û–∑–µ—Ä–∞</button>
        <button class="filter-btn" data-filter="mountain">–ì–æ—Ä—ã</button>
      </div>
      
      <div class="cities-list" id="cities-list">
       
      </div>
      <div class="toggle-sidebar">
        <i class="fas fa-chevron-up"></i>
      </div>
    </div>
    
    <div id="map"></div>
    
    <div class="legend">
      <h4>–û–±–æ–∑–Ω–∞—á–µ–Ω–∏—è:</h4>
      <div class="legend-item">
        <div class="legend-color" style="background-color: #3498db;"></div>
        <span>–ì–æ—Ä–æ–¥–∞</span>
      </div>
      <div class="legend-item">
        <div class="legend-color" style="background-color: #2ecc71;"></div>
        <span>–ü—Ä–∏—Ä–æ–¥–∞</span>
      </div>
      <div class="legend-item">
        <div class="legend-color" style="background-color: #9b59b6;"></div>
        <span>–û–∑–µ—Ä–∞</span>
      </div>
      <div class="legend-item">
        <div class="legend-color" style="background-color: #e74c3c;"></div>
        <span>–ì–æ—Ä—ã</span>
      </div>
    </div>
    
    <div class="mobile-tabs">
      <div class="mobile-tab active" data-tab="map">
        <i class="fas fa-map"></i>
        <span>–ö–∞—Ä—Ç–∞</span>
      </div>
      <div class="mobile-tab" data-tab="list">
        <i class="fas fa-list"></i>
        <span>–°–ø–∏—Å–æ–∫</span>
      </div>
      <div class="mobile-tab" data-tab="filters">
        <i class="fas fa-filter"></i>
        <span>–§–∏–ª—å—Ç—Ä—ã</span>
      </div>
    </div>
  </div>

  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script>
 
    const map = L.map('map').setView([41.5, 74.5], 7);
    
  
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '¬© OpenStreetMap'
    }).addTo(map);
    
   
    const places = [
   
     { 
  name: "–û—Ä–ª–æ–≤–∫–∞", 
  lat: 42.7424329, 
  lon: 75.5899457,   
  type: "city",
  photo: "https://tse1.mm.bing.net/th/id/OIP.69NCXuwABVHPRHbvaRGivgHaEC?pid=Api", // –ú–æ–∂–Ω–æ –ø–æ–º–µ–Ω—è—Ç—å –Ω–∞ –ª—é–±—É—é –ø–æ–¥—Ö–æ–¥—è—â—É—é —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é
  description: "–ú–∞–ª–µ–Ω—å–∫–∏–π –≥–æ—Ä–æ–¥ –≤ –ß—É–π—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏ –ö—ã—Ä–≥—ã–∑—Å—Ç–∞–Ω–∞, –∏–∑–≤–µ—Å—Ç–Ω—ã–π —Å–≤–æ–∏–º –≥–æ—Ä–Ω–æ–ª—ã–∂–Ω—ã–º –∫—É—Ä–æ—Ä—Ç–æ–º –∏ –∫–∞–Ω–∞—Ç–Ω—ã–º–∏ –¥–æ—Ä–æ–≥–∞–º–∏."
}
,

      { 
        name: "–ë–∏—à–∫–µ–∫", 
        lat: 42.8746, 
        lon: 74.5698,   
        type: "city",
        photo: "https://kyrtag.kg/upload/iblock/51d/51d1c9fe157a2252c79a7aee89ed1581.jpg",
        description: "–°—Ç–æ–ª–∏—Ü–∞ –ö—ã—Ä–≥—ã–∑—Å—Ç–∞–Ω–∞, –∫—Ä—É–ø–Ω–µ–π—à–∏–π –≥–æ—Ä–æ–¥ —Å—Ç—Ä–∞–Ω—ã —Å –±–æ–≥–∞—Ç–æ–π –∏—Å—Ç–æ—Ä–∏–µ–π –∏ –∫—É–ª—å—Ç—É—Ä–æ–π."
      },
      { 
        name: "–û—à", 
        lat: 40.5146, 
        lon: 72.8160, 
        type: "city",
        photo: "https://sputnik.kg/img/104442/04/1044420420_0:0:3074:2048_600x0_80_0_1_8bfb81169735fc2db41778379fe57339.jpg",
        description: "–í—Ç–æ—Ä–æ–π –ø–æ –≤–µ–ª–∏—á–∏–Ω–µ –≥–æ—Ä–æ–¥ –ö—ã—Ä–≥—ã–∑—Å—Ç–∞–Ω–∞, –∏–∑–≤–µ—Å—Ç–Ω—ã–π –∫–∞–∫ '—é–∂–Ω–∞—è —Å—Ç–æ–ª–∏—Ü–∞'."
      },
      { 
        name: "–ö–∞—Ä–∞–∫–æ–ª", 
        lat: 42.4907, 
        lon: 78.3936, 
        type: "city",
        photo: "https://img.freepik.com/premium-photo/karakol-city-kyrgyzstan-night_527134-6354.jpg",
        description: "–ì–æ—Ä–æ–¥ –Ω–∞ –≤–æ—Å—Ç–æ–∫–µ –ö—ã—Ä–≥—ã–∑—Å—Ç–∞–Ω–∞, –ø–æ–ø—É–ª—è—Ä–Ω—ã–π —Å—Ä–µ–¥–∏ —Ç—É—Ä–∏—Å—Ç–æ–≤ –∫–∞–∫ –æ—Ç–ø—Ä–∞–≤–Ω–∞—è —Ç–æ—á–∫–∞ –∫ –æ–∑–µ—Ä—É –ò—Å—Å—ã–∫-–ö—É–ª—å –∏ –≥–æ—Ä–∞–º –¢—è–Ω—å-–®–∞–Ω—è."
      },
      { 
        name: "–¢–∞–ª–∞—Å", 
        lat: 42.5187, 
        lon: 72.2427, 
        type: "city",
        photo: "https://elements-resized.envatousercontent.com/elements-video-cover-images/b4d33b80-8cac-49c0-803d-ab7c7079434f/video_preview/video_preview_0000.jpg?w=1200&h=630&cf_fit=crop&q=85&format=jpeg&s=a9de99c12638bfd6f45629b452c3abd2036f643d74cd01cc7725f3a1fd2beecc",
        description: "–ì–æ—Ä–æ–¥ –Ω–∞ —Å–µ–≤–µ—Ä–æ-–∑–∞–ø–∞–¥–µ –ö—ã—Ä–≥—ã–∑—Å—Ç–∞–Ω–∞, —Å—Ç–æ–ª–∏—Ü–∞ –¢–∞–ª–∞—Å—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏."
      },
      { 
        name: "–ë–∞—Ç–∫–µ–Ω", 
        lat: 40.0626, 
        lon: 70.8194, 
        type: "city",
        photo: "https://central-asia.live/_next/image?url=https%3A%2F%2Fcentral-asia.live%2Fuploads%2Fbatken-town.jpg&w=3840&q=75",
        description: "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π —Ü–µ–Ω—Ç—Ä –ë–∞—Ç–∫–µ–Ω—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω—ã–π –Ω–∞ —é–≥–æ-–∑–∞–ø–∞–¥–µ –ö—ã—Ä–≥—ã–∑—Å—Ç–∞–Ω–∞."
      },
      { 
        name: "–î–∂–∞–ª–∞–ª-–ê–±–∞–¥", 
        lat: 40.9375, 
        lon: 72.9863, 
        type: "city",
        photo: "https://elements-resized.envatousercontent.com/elements-video-cover-images/5e13272d-6a48-4993-93a8-fd99e5ff59c7/video_preview/video_preview_0000.jpg?w=500&cf_fit=cover&q=85&format=auto&s=4dcae8b8d124531352b63c0a309ffb2ca1e823230f688e3b0d5c1a12fe479ea7",
        description: "–ì–æ—Ä–æ–¥ –Ω–∞ —é–≥–µ –ö—ã—Ä–≥—ã–∑—Å—Ç–∞–Ω–∞, –∏–∑–≤–µ—Å—Ç–Ω—ã–π —Å–≤–æ–∏–º–∏ –º–∏–Ω–µ—Ä–∞–ª—å–Ω—ã–º–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏ –∏ –æ—Ä–µ—Ö–æ–≤–æ-–ø–ª–æ–¥–æ–≤—ã–º–∏ –ª–µ—Å–∞–º–∏."
      },
      { 
        name: "–ù–∞—Ä—ã–Ω", 
        lat: 41.4324, 
        lon: 75.9917, 
        type: "city",
        photo: "https://vlast.kz/media/upload/longrid/a42382d1cd5e7d33b74833d6be46d8c8.jpg",
        description: "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π —Ü–µ–Ω—Ç—Ä –ù–∞—Ä—ã–Ω—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω—ã–π –≤ –∂–∏–≤–æ–ø–∏—Å–Ω–æ–π –≥–æ—Ä–Ω–æ–π –¥–æ–ª–∏–Ω–µ."
      },
      
      // –ü—Ä–∏—Ä–æ–¥–Ω—ã–µ –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
      { 
        name: "–û–∑–µ—Ä–æ –ò—Å—Å—ã–∫-–ö—É–ª—å", 
        lat: 42.4333, 
        lon: 77.1833, 
        type: "lake",
        photo: "https://aquarida-tour.kz/userfiles/item/2620/fullimage1.jpg",
        description: "–ö—Ä—É–ø–Ω–æ–µ –±–µ—Å—Å—Ç–æ—á–Ω–æ–µ –æ–∑–µ—Ä–æ –≤ –ö—ã—Ä–≥—ã–∑—Å—Ç–∞–Ω–µ, –≤—Ç–æ—Ä–æ–µ –ø–æ –≤–µ–ª–∏—á–∏–Ω–µ –≥–æ—Ä–Ω–æ–µ –æ–∑–µ—Ä–æ –≤ –º–∏—Ä–µ –ø–æ—Å–ª–µ –¢–∏—Ç–∏–∫–∞–∫–∞."
      },
      { 
        name: "–û–∑–µ—Ä–æ –°–æ–Ω-–ö—É–ª—å", 
        lat: 41.8333, 
        lon: 75.1333, 
        type: "lake",
        photo: "https://static.explorekazakhstan.net/images/tours/47/1_1000x560.webp",
        description: "–í—ã—Å–æ–∫–æ–≥–æ—Ä–Ω–æ–µ –æ–∑–µ—Ä–æ, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω–æ–µ –Ω–∞ –≤—ã—Å–æ—Ç–µ 3016 –º–µ—Ç—Ä–æ–≤ –Ω–∞–¥ —É—Ä–æ–≤–Ω–µ–º –º–æ—Ä—è –≤ —Ü–µ–Ω—Ç—Ä–µ –ö—ã—Ä–≥—ã–∑—Å—Ç–∞–Ω–∞."
      },
      { 
        name: "–£—â–µ–ª—å–µ –ê–ª–∞-–ê—Ä—á–∞", 
        lat: 42.6333, 
        lon: 74.4833, 
        type: "nature",
        photo: "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/09/a4/8d/63/ala-archa-gorge.jpg?w=1200&h=-1&s=1",
        description: "–ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–∞—Ä–∫ –≤ –ö—ã—Ä–≥—ã–∑—Å—Ç–∞–Ω–µ, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω—ã–π –≤ –≥–æ—Ä–∞—Ö –¢—è–Ω—å-–®–∞–Ω—è, –ø–æ–ø—É–ª—è—Ä–Ω–æ–µ –º–µ—Å—Ç–æ –¥–ª—è –∞–ª—å–ø–∏–Ω–∏–∑–º–∞ –∏ –ø–µ—à–µ–≥–æ —Ç—É—Ä–∏–∑–º–∞."
      },
      { 
        name: "–°–∫–∞–ª—ã –î–∂–µ—Ç—ã-–û–≥—É–∑", 
        lat: 42.3833, 
        lon: 78.2333, 
        type: "nature",
        photo: "https://www.karakol.name/images/site/dzhety-oguz_02.jpg",
        description: "–ñ–∏–≤–æ–ø–∏—Å–Ω—ã–µ –∫—Ä–∞—Å–Ω—ã–µ —Å–∫–∞–ª—ã –Ω–µ–¥–∞–ª–µ–∫–æ –æ—Ç –≥–æ—Ä–æ–¥–∞ –ö–∞—Ä–∞–∫–æ–ª, –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—Å—è –∫–∞–∫ '–°–µ–º—å –±—ã–∫–æ–≤'."
      },
      { 
        name: "–£—â–µ–ª—å–µ –ß–æ–Ω-–ö–µ–º–∏–Ω", 
        lat: 42.7333, 
        lon: 75.9833, 
        type: "nature",
        photo: "https://ic.pics.livejournal.com/frantsouzov/21599674/584951/584951_original.jpg",
        description: "–ñ–∏–≤–æ–ø–∏—Å–Ω–∞—è –¥–æ–ª–∏–Ω–∞ –º–µ–∂–¥—É —Ö—Ä–µ–±—Ç–∞–º–∏ –ö—É–Ω–≥–µ–π-–ê–ª–∞-–¢–æ–æ –∏ –ó–∞–∏–ª–∏–π—Å–∫–∏–π –ê–ª–∞—Ç–∞—É, –ø–æ–ø—É–ª—è—Ä–Ω–æ–µ –º–µ—Å—Ç–æ –¥–ª—è —Ç—Ä–µ–∫–∫–∏–Ω–≥–∞."
      },
      
      // –ì–æ—Ä—ã
      { 
        name: "–ü–∏–∫ –ü–æ–±–µ–¥—ã", 
        lat: 42.0333, 
        lon: 80.1333, 
        type: "mountain",
        photo: "https://triptokyrgyzstan.com/sites/default/files/media/image/c_valek_vergilyush_2.jpg",
        description: "–°–∞–º–∞—è –≤—ã—Å–æ–∫–∞—è —Ç–æ—á–∫–∞ –ö—ã—Ä–≥—ã–∑—Å—Ç–∞–Ω–∞ (7439 –º), —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω–∞—è –Ω–∞ –≥—Ä–∞–Ω–∏—Ü–µ —Å –ö–∏—Ç–∞–µ–º."
      },
      { 
        name: "–•–∞–Ω-–¢–µ–Ω–≥—Ä–∏", 
        lat: 42.2114, 
        lon: 80.1753, 
        type: "mountain",
        photo: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ6OTJeS-qJukry-n3Y9jghw8lPlVYHEVS1Tw&s",
        description: "–ü–∏—Ä–∞–º–∏–¥–∞–ª—å–Ω—ã–π –ø–∏–∫ –≤—ã—Å–æ—Ç–æ–π 7010 –º –Ω–∞ –≥—Ä–∞–Ω–∏—Ü–µ –ö—ã—Ä–≥—ã–∑—Å—Ç–∞–Ω–∞ –∏ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–∞, –æ–¥–Ω–∞ –∏–∑ –∫—Ä–∞—Å–∏–≤–µ–π—à–∏—Ö –≤–µ—Ä—à–∏–Ω –º–∏—Ä–∞."
      },
      { 
        name: "–ì–æ—Ä–∞ –°—É–ª–∞–π–º–∞–Ω-–¢–æ–æ", 
        lat: 40.5303, 
        lon: 72.7850, 
        type: "mountain",
        photo: "https://mustvisit.ru/wa-data/public/shop/products/08/52/5208/images/11946/11946.970.jpg",
        description: "–°–≤—è—â–µ–Ω–Ω–∞—è –≥–æ—Ä–∞ –≤ –û—à–µ, –æ–±—ä–µ–∫—Ç –í—Å–µ–º–∏—Ä–Ω–æ–≥–æ –Ω–∞—Å–ª–µ–¥–∏—è –Æ–ù–ï–°–ö–û, —Å –∫–æ—Ç–æ—Ä–æ–π –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–∞–Ω–æ—Ä–∞–º–Ω—ã–π –≤–∏–¥ –Ω–∞ –≥–æ—Ä–æ–¥."
      }
    ];
    
 
    const typeColors = {
      'city': '#3498db',
      'nature': '#2ecc71',
      'lake': '#9b59b6',
      'mountain': '#e74c3c'
    };
    
    
    const typeIcons = {
      'city': 'fa-city',
      'nature': 'fa-tree',
      'lake': 'fa-water',
      'mountain': 'fa-mountain'
    };
    
    
    const markers = [];
    
    places.forEach(place => {
    
      const icon = L.divIcon({
        className: 'custom-icon',
        html: `<div style="background-color: ${typeColors[place.type]}; width: 24px; height: 24px; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; border: 2px solid white;">
                <i class="fas ${typeIcons[place.type]}" style="font-size: 12px;"></i>
              </div>`,
        iconSize: [24, 24],
        iconAnchor: [12, 12]
      });
      
      const marker = L.marker([place.lat, place.lon], { icon: icon }).addTo(map);
      
 
      marker.on("click", async () => {
        const weather = await getWeather(place);
        marker.bindPopup(`
          <div class="popup-content">
            <h3>${place.name}</h3>
            <div class="weather-info">
              <div class="temp">${weather.temp}¬∞C</div>
              <div class="weather-desc">${weather.desc}</div>
            </div>
            <img src="${place.photo}" alt="${place.name}">
            <p>${place.description}</p>
           
          </div>
        `).openPopup();
      });
      
     
      markers.push({
        marker: marker,
        name: place.name,
        type: place.type,
        lat: place.lat,
        lon: place.lon
      });
    });
    
  
    async function getWeather(place) {
      const url = `https://wttr.in/${place.name}?format=j1`;
      try {
        const response = await fetch(url);
        const data = await response.json();
        const temp = data.current_condition[0].temp_C;
        const desc = data.current_condition[0].weatherDesc[0].value;
        return { temp, desc };
      } catch (err) {
        return { temp: "N/A", desc: "–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ–≥–æ–¥—ã" };
      }
    }
    
 
    const citiesList = document.getElementById('cities-list');
    
    places.forEach(place => {
      const cityItem = document.createElement('div');
      cityItem.className = 'city-item';
      cityItem.dataset.type = place.type;
      cityItem.innerHTML = `
        <h3><i class="fas ${typeIcons[place.type]}"></i> ${place.name}</h3>
        <p>${place.description.substring(0, 60)}...</p>
      `;
      
      // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç —Å–ø–∏—Å–∫–∞
      cityItem.addEventListener('click', () => {
        map.setView([place.lat, place.lon], 10);
        
        // –û—Ç–∫—Ä—ã–≤–∞–µ–º –ø–æ–ø–∞–ø —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ –º–∞—Ä–∫–µ—Ä–∞
        markers.forEach(m => {
          if (m.name === place.name) {
            m.marker.openPopup();
          }
        });
        
        // –ù–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö —Å–∫—Ä—ã–≤–∞–µ–º —Å–∞–π–¥–±–∞—Ä –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞
        if (window.innerWidth <= 768) {
          document.querySelector('.sidebar').classList.add('hidden');
          document.querySelector('.toggle-sidebar i').className = 'fas fa-chevron-down';
        }
      });
      
      citiesList.appendChild(cityItem);
    });
    
    // --- –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è ---
    const searchInput = document.getElementById('search-input');
    const filterButtons = document.querySelectorAll('.filter-btn');
    
    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø–æ–∏—Å–∫–∞
    searchInput.addEventListener('input', () => {
      const searchText = searchInput.value.toLowerCase();
      
      // –§–∏–ª—å—Ç—Ä—É–µ–º —Å–ø–∏—Å–æ–∫ –≤ —Å–∞–π–¥–±–∞—Ä–µ
      document.querySelectorAll('.city-item').forEach(item => {
        const cityName = item.querySelector('h3').textContent.toLowerCase();
        if (cityName.includes(searchText)) {
          item.style.display = 'block';
        } else {
          item.style.display = 'none';
        }
      });
      
      // –§–∏–ª—å—Ç—Ä—É–µ–º –º–∞—Ä–∫–µ—Ä—ã –Ω–∞ –∫–∞—Ä—Ç–µ
      markers.forEach(m => {
        if (m.name.toLowerCase().includes(searchText)) {
          m.marker.addTo(map);
        } else {
          map.removeLayer(m.marker);
        }
      });
    });
    
    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤
    filterButtons.forEach(button => {
      button.addEventListener('click', () => {
        // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —É –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫
        filterButtons.forEach(btn => btn.classList.remove('active'));
        // –î–æ–±–∞–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Ç–µ–∫—É—â–µ–π –∫–Ω–æ–ø–∫–µ
        button.classList.add('active');
        
        const filter = button.dataset.filter;
        
        // –§–∏–ª—å—Ç—Ä—É–µ–º —Å–ø–∏—Å–æ–∫ –≤ —Å–∞–π–¥–±–∞—Ä–µ
        document.querySelectorAll('.city-item').forEach(item => {
          if (filter === 'all' || item.dataset.type === filter) {
            item.style.display = 'block';
          } else {
            item.style.display = 'none';
          }
        });
        
        // –§–∏–ª—å—Ç—Ä—É–µ–º –º–∞—Ä–∫–µ—Ä—ã –Ω–∞ –∫–∞—Ä—Ç–µ
        markers.forEach(m => {
          if (filter === 'all' || m.type === filter) {
            m.marker.addTo(map);
          } else {
            map.removeLayer(m.marker);
          }
        });
      });
    });
    
    // --- –ú–æ–±–∏–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ ---
    
    // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∏–¥–∏–º–æ—Å—Ç–∏ —Å–∞–π–¥–±–∞—Ä–∞
    const toggleSidebar = document.querySelector('.toggle-sidebar');
    const sidebar = document.querySelector('.sidebar');
    
    toggleSidebar.addEventListener('click', () => {
      sidebar.classList.toggle('hidden');
      const icon = toggleSidebar.querySelector('i');
      if (sidebar.classList.contains('hidden')) {
        icon.className = 'fas fa-chevron-down';
      } else {
        icon.className = 'fas fa-chevron-up';
      }
    });
    
    // –ú–æ–±–∏–ª—å–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è
    const mobileTabs = document.querySelectorAll('.mobile-tab');
    
    mobileTabs.forEach(tab => {
      tab.addEventListener('click', () => {
        const tabName = tab.dataset.tab;
        
        // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —É –≤—Å–µ—Ö –≤–∫–ª–∞–¥–æ–∫
        mobileTabs.forEach(t => t.classList.remove('active'));
        // –î–æ–±–∞–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Ç–µ–∫—É—â–µ–π –≤–∫–ª–∞–¥–∫–µ
        tab.classList.add('active');
        
        if (tabName === 'list') {
          sidebar.classList.remove('hidden');
          toggleSidebar.querySelector('i').className = 'fas fa-chevron-up';
          // –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –∫ –Ω–∞—á–∞–ª—É —Å–ø–∏—Å–∫–∞
          sidebar.scrollTo(0, 0);
        } else if (tabName === 'filters') {
          sidebar.classList.remove('hidden');
          toggleSidebar.querySelector('i').className = 'fas fa-chevron-up';
          // –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –∫ —Ñ–∏–ª—å—Ç—Ä–∞–º
          sidebar.scrollTo(0, 0);
          document.querySelector('.search-box').focus();
        } else {
          sidebar.classList.add('hidden');
          toggleSidebar.querySelector('i').className = 'fas fa-chevron-down';
        }
      });
    });
    
    // –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
    if (window.innerWidth <= 768) {
      // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –æ–±–ª–∞—Å—Ç—å –∫–ª–∏–∫–∞ –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å–ø–∏—Å–∫–∞
      document.querySelectorAll('.city-item').forEach(item => {
        item.style.padding = '15px 12px';
      });
      
      // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –æ–±–ª–∞—Å—Ç—å –∫–ª–∏–∫–∞ –¥–ª—è –∫–Ω–æ–ø–æ–∫ —Ñ–∏–ª—å—Ç—Ä–æ–≤
      document.querySelectorAll('.filter-btn').forEach(btn => {
        btn.style.padding = '10px 14px';
        btn.style.fontSize = '13px';
      });
    }
  </script>
</body>
</html>